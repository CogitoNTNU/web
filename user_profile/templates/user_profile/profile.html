{% extends 'web/base.html' %}
{% load staticfiles %}
{% load helpers %}

{% block title %}New {{ view.model|get_class|lower }}{% endblock %}
{% block og_title %}New {{ view.model|get_class|lower }}{% endblock %}

{% block body %}

<div class="ui text container">

    <h1>{{ profile.user }}</h1>

    {% if profile.committee %}
        <h3>{{ profile.committee }}</h3>
    {% else %}
        <h3><em>Non-member</em></h3>
    {% endif %}

    <h3>Projects</h3>
    {% if profile.projects.all %}
        {% for project in profile.projects.all %}
            <p>{{ project.title }}</p>
        {% endfor %}
    {% else %}
        <p><em>No projects listed</em></p>
    {% endif %}

    <h3>Skills</h3>
    {% if profile.skills.all %}
        {% for skill in profile.skills.all %}
            <a href="{% url "skill_detail" pk=skill.pk %}"><p>{{ skill.name }}</p></a>
        {% endfor %}
    {% else %}
        <p><em>No skills listed</em></p>
    {% endif %}
    {% if edit %}
        <button type="button" onclick="show_modal()" class="ui blue button">Edit</button>
    {% endif %}


    <div class="ui modal">
        <div class="ui text container">
            <form class="ui form" method="POST">
                <h1>New {{ view.model|get_class|lower }}</h1>
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit" class="ui primary button">Save</button>
                <button type="reset" onclick="hide_modal()" class="ui button">Cancel</button>
            </form>
        </div>
    </div>

    <script>
        function show_modal() {
            $('.ui.modal').modal('show');
        }
        function hide_modal() {
            $('.ui.modal').modal('hide');
        }
        $('.ui.dropdown').dropdown();
    </script>
</div>

{% endblock %}