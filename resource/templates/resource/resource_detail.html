{% extends 'web/base.html' %}
{% load staticfiles %}

{% block head %}
    <link rel="stylesheet" href="{% static 'ckeditor/ckeditor/plugins/codesnippet/lib/highlight/styles/atelier-forest.light.css' %}"/>
    <script src="{% static 'ckeditor/ckeditor/plugins/codesnippet/lib/highlight/highlight.pack.js' %}"></script>
    <script>hljs.initHighlightingOnLoad();</script>
{% endblock %}

{% block body %}

<div class="ui text container">
    <h1>{{ resource.title }}</h1>
    <p><strong>{{ resource.medium }} by {{ resource.creator }}</strong> - <em>{{ resource.grade }} difficulty</em></p>

    {% if resource.tags %}
        <p><em>Tagged as: {% for tag in tags %} {{tag}},  {% endfor %}</em></p>
    {% endif %}

    {% if perms.resource.change_resource %}
        <a class="mini ui blue button"  href="{% url "edit_resource" pk=resource.pk %}">Edit</a>
    {% endif %}
    {% if perms.resource.delete_resource %}
        <a class="mini ui blue button"  href="{% url "delete_resource" pk=resource.pk %}">Delete</a>
    {% endif %}

    <p>{{ resource.description|safe|linebreaks}}</p>
    {% if resource.link %}
    <a href="{{resource.link}}" class="big ui blue button">Go to</a>
    {% endif %}
    <p><br></p>
</div>

<!-- vil gjerne ha et vertikalt slideshow som viser 4 cards om gangen. Vet ikke hvordan -->
<div class="ui cards five column stackable grid center aligned ">
    {% for rel_resource in related %}
    <a class="card column" href="{% url "resource_detail" pk=rel_resource.pk %}">
        <div class="content">
            <div class="header">{{ rel_resource.title }}</div>
            <div class="meta">{{ rel_resource.medium }} by {{ rel_resource.creator }}</div>
            <div class="description">{{ rel_resource.description|truncatechars:140|safe }}</div>
        </div>
    </a>
    {% endfor %}
</div>



{% endblock %}